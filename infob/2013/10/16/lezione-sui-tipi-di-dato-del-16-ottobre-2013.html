<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head lang="en">
    <title>Lezione sui tipi di dato del 16 Ottobre 2013</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
    <script type="text/javascript" src="/v2/js/client.js"></script>
  </head>
  <body ng-app="application">
    <div class="site_wrapper">
      <div class="sidebar"> <img class="sidebar__picture">
        <div class="sidebar__name">Vittorio Zaccaria</div>
        <div class="sidebar__address">Politecnico di Milano</div>
        <ul class="sidebar__link_list">
          <li onclick="location.href=&apos;/v2&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-home"></i></span>
            <div class="sidebar__link_item__name">Home</div>
          </li>
          <li onclick="location.href=&apos;/v2/research.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-flask"></i></span>
            <div class="sidebar__link_item__name">Research</div>
          </li>
          <li onclick="location.href=&apos;/v2/blog.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-quote-left"></i></span>
            <div class="sidebar__link_item__name">Blog</div>
          </li>
          <li onclick="location.href=&apos;/v2/projects.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-floppy-o"></i></span>
            <div class="sidebar__link_item__name">Projects</div>
          </li>
          <li onclick="location.href=&apos;/v2/teaching.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-graduation-cap"></i></span>
            <div class="sidebar__link_item__name">Teaching</div>
          </li>
          <li onclick="location.href=&apos;http://www.vittoriozaccaria.net/deposit/cv.pdf&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-user"></i></span>
            <div class="sidebar__link_item__name">CV</div>
          </li>
          <li onclick="location.href=&apos;/v2/videos.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-youtube-play"></i></span>
            <div class="sidebar__link_item__name">Videos</div>
          </li>
          <li onclick="location.href=&apos;/v2/address.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-map-marker"></i></span>
            <div class="sidebar__link_item__name">Address</div>
          </li>
        </ul>
        <div class="sidebar__bottom"> 
          <div onclick="location.href=&apos;http://www.linkedin.com/in/vzaccaria&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-linkedin-square"></i></div>
          <div onclick="location.href=&apos;http://twitter.com/_vzaccaria_&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-twitter-square"></i></div>
          <div onclick="location.href=&apos;https://plus.google.com/116322227495215922957/about&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-google-plus-square"></i></div>
        </div>
      </div>
      <div class="site_container">
        <div class="post_container">
          <div class="post_container__post__title">Lezione sui tipi di dato del 16 Ottobre 2013</div>
          <div class="post_container__post__subtitle"> 
            <div class="post_container__post__date"> <i class="fa fa-calendar-o"> </i>
              <div class="post_container__post__date_value">Wednesday, October 16th 2013</div>
            </div>
            <div class="post_container__post__category"> <i class="fa fa-flag-o"> </i>
              <div class="post_container__post__category_value">infob</div>
            </div>
            <div class="post_container__post__tags"> <i class="fa fa-tags"></i>
              <div class="post_container__post__tag">lezione</div>
            </div>
            <div class="share_buttons"> 
              <div class="share_buttons__message">Share: </div>
              <div style="cursor: pointer" class="share_buttons__share_reddit"><i class="fa fa-reddit"> </i></div>
              <div style="cursor: pointer" class="share_buttons__share_twitter"><i class="fa fa-twitter"></i></div>
            </div>
          </div>
          <div class="post_text"><p>Ogni qualvolta viene pubblicato un post relativo al corso, mando un tweet <a href="http://twitter.com/_vzaccaria_">dal mio account Twitter</a>. Iscrivetevi e seguite l&#39;account per rimanere aggiornati in tempo reale.</p>
<p>Iniziamo col materiale visto oggi:</p>
<h2 id="dichiarazioni-di-nuovi-tipi">Dichiarazioni di nuovi tipi</h2>
<p>Oggi abbiamo visto cosa significa creare un nuovo tipo in aggiunta a quelli forniti dal linguaggio C (<code>int</code>, <code>float</code>, <code>char</code> etc..), attraverso la parola chiave <code>typedef</code>. </p>
<p>Per farvi ripassare un pò di inglese, <a href="http://en.wikipedia.org/wiki/Typedef">date un&#39;occhiata alla descrizione di typedef su wikipedia</a> (guardate solo la parte relativa al linguaggio C).</p>
<h2 id="tipi-enumerativi">Tipi enumerativi</h2>
<p>Ecco il programma visto oggi per la definizione di un tipo enumerativo (<code>giorno_settimana</code>):</p>
<pre><code>#include &lt;stdio.h&gt;

typedef enum { lun, mar, merc, gio, ven, sab, dom } giorno_settimana;

int main()
{
    giorno_settimana g;
    for(g=lun; g&lt;=dom; g++)
    {
        printf(&quot; %d &quot;, g);
    }
}
</code></pre><p>Ricordate che <code>lun</code> … <code>dom</code> sono etichette alle quali viene assegnato un valore numerico (<code>lun</code>=0 … <code>dom</code>=6). <code>giorno_settimana</code> è di fatto un intero con un insieme molto limitato di valori. Possiamo quindi utilizzare il segnaposto <code>%d</code> per stampare il suo valore.</p>
<h2 id="strutture-dati">Strutture dati</h2>
<p>Possiamo definire una struttura dati come un insieme di variabili (o <em>campi</em>) al quale viene dato un nome. In questo caso, utilizziamo la parola chiave <code>typedef</code> e <code>struct</code> per definire un tipo chiamato <code>studente</code> che è caratterizzato dai quattro campi elencati: </p>
<pre><code>#include &lt;stdio.h&gt;

typedef struct 
{
   int giorno_nascita;
   int mese_nascita;
   int anno_nascita;
   int voto_informatica_b;
} studente;
</code></pre><p>Una volta definito il tipo <code>studente</code> posso istanziarne un numero arbitrario di variabili; in questo caso istanziamo due variabili <code>s</code> e <code>t</code>; una volta inizializzati i campi di <code>s</code>, procediamo a copiare tutta la struttura in <code>t</code> con un singolo assegnamento:</p>
<pre><code>int main()
{
    studente s;
    studente t;

    s.giorno_nascita     = 10;
    s.mese_nascita       = 7;
    s.anno_nascita       = 1950;
    s.voto_informatica_b = 18;

    printf(&quot; giorno di nascita: %d\n&quot;, s.giorno_nascita);

    t = s;

    printf(&quot; voto di informatica: %d\n&quot;, t.voto_informatica_b);

}
</code></pre><h2 id="vettori">Vettori</h2>
<p>Un vettore è una struttura dati particolare in cui i campi sono accessibili attraverso un indice specificato fra parentesi quadre <code>[]</code>:</p>
<pre><code>#include &lt;stdio.h&gt;

typedef int lista_ricavi_annuali[12];

int main()
{
    int somma;
    int i;
    lista_ricavi_annuali l = {1, 2, 5, 2, 1, 1, 3, 3, 3, 0, 0, 0};

    l[0] = 100;

    somma = 0;
    for(i=0; i&lt;12; i++)
    {
        somma = somma + l[i];
    }
    printf(&quot;somma: %d \n&quot;, somma);
}
</code></pre><p>Notare che:</p>
<ul>
<li><code>lista_ricavi_annuali</code> è il nome di un tipo <strong>vettore</strong>.</li>
<li><code>l</code> è una variabile di tipo <code>lista_ricavi_annuali</code> (ovvero è una <strong>istanza di vettore</strong>) e viene inizializzata con 12 valori (corrispondenti ai mesi dell&#39;anno).</li>
<li><code>l[i]</code> è l&#39;elemento <code>i</code>-esimo del vettore <code>l</code>. Puo&#39; essere letto o scritto come una variabile intera — valgono infatti le stesse regole.</li>
</ul>
<p>Come promesso, <a href="http://www.vittoriozaccaria.net/pseudocode/#ex/7">potete trovare a questo indirizzo un&#39;esempio</a> di simulazione dell&#39;algoritmo appena visto. 
<strong>Studiate bene cosa avviene alla variabile <code>somma</code>!</strong></p>
<h2 id="stringhe">Stringhe</h2>
<p>Ecco i semplici esercizi sulle stringhe fatti oggi. Abbiamo iniziato con la definizione di un tipo stringa e la copia della stessa utilizzando <code>strlen</code> e <code>strcpy</code>:</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

typedef char stringa[30];

int main()
{
    int i;
    stringa s = &quot;Ciao&quot;;
    printf(&quot;%s \n&quot;, s);
    printf(&quot;N. caratteri: %d \n&quot;, strlen(s));
    strcpy(s, &quot;Nuovo valore&quot;);
    printf(&quot;%s \n&quot;, s);
    printf(&quot;N. caratteri: %d \n&quot;, strlen(s));       
}
</code></pre><p>Infine, abbiamo visto come invertire una stringa (variable <code>s</code>) i cui caratteri significativi sono in numero arbitrario[^1]:</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

typedef char stringa[30];

int main()
{
    int i;
    int j = 0;
    stringa s = &quot;Ciao&quot;;
    stringa inversa;
    for( i=(strlen(s)-1); i &gt;= 0; i--)
    {
        inversa[j] = s[i];
        j++;
    }
    inversa[strlen(s)] = &#39;\0&#39;;
    // oppure inversa[j] = &#39;\0&#39;;
    printf(&quot;%s\n&quot;, inversa );
}
</code></pre><h2 id="materiale-aggiuntivo">Materiale aggiuntivo</h2>
<p>A grande richiesta, ecco alcune slides che vanno più nel dettaglio dell&#39;argomento.</p>
<ul>
<li><a href="https://www.dropbox.com/s/d6g3e54gmorh14q/05_strutture_di_controllo.pdf">Strutture di controllo (<code>if</code>, <code>while</code> etc.)</a> — leggetele tutte poiché ci sono alcune cose che non abbiamo visto in aula.</li>
<li><a href="https://www.dropbox.com/s/85w20qpzth8vc80/06_array_e_matrici.pdf">Array e matrici</a> — le matrici le vedremo prossimamente, intanto leggete questo.</li>
<li><a href="https://www.dropbox.com/s/wcp3d1tpt4a8ppb/07_Struct.pdf">Struct e strutture dati</a>.</li>
</ul>
<h2 id="sondaggio">Sondaggio</h2>
<p>Sempre anonimo:</p>
<div class="iframe-wrapper"> 
    <iframe id="fs-survey-iframe" class="iframe-content" src="http://fluidsurveys.com/surveys/vittorio-HFF/lezione-del-16-ottobre-2013/" scrolling="no" frameborder="0">.
    </iframe>
</div>

<p> [^1]:Nonostante la stringa venga dichiarata con un tipo vettore di 30 caratteri, dobbiamo usare un terminatore <code>\0</code> per indicare quanto di questo vettore stiamo consumando. Questo è necessario affinché tutte le funzioni operanti sulle stringhe (come la <code>printf</code>) sappiano su quanti caratteri lavorare. </p>
</div>
          <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
          <div id="disqus_thread" class="post_container__comments"> 
            <script>(function() {
  var disqus_shortname, dsq;

  disqus_shortname = 'vittoriozaccaria';

  dsq = document.createElement('script');

  dsq.type = 'text/javascript';

  dsq.async = true;

  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';

  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

}).call(this);

            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>