<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head lang="en">
    <title>Soluzioni compito Informatica B del 2 Settembre 2013</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
    <script type="text/javascript" src="/v2/js/client.js"></script>
  </head>
  <body ng-app="application">
    <div class="site_wrapper">
      <div class="sidebar"> <img class="sidebar__picture">
        <div class="sidebar__name">Vittorio Zaccaria</div>
        <div class="sidebar__address">Politecnico di Milano</div>
        <ul class="sidebar__link_list">
          <li onclick="location.href=&apos;/v2&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-home"></i></span>
            <div class="sidebar__link_item__name">Home</div>
          </li>
          <li onclick="location.href=&apos;/v2/research.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-flask"></i></span>
            <div class="sidebar__link_item__name">Research</div>
          </li>
          <li onclick="location.href=&apos;/v2/blog.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-quote-left"></i></span>
            <div class="sidebar__link_item__name">Blog</div>
          </li>
          <li onclick="location.href=&apos;/v2/projects.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-floppy-o"></i></span>
            <div class="sidebar__link_item__name">Projects</div>
          </li>
          <li onclick="location.href=&apos;/v2/teaching.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-graduation-cap"></i></span>
            <div class="sidebar__link_item__name">Teaching</div>
          </li>
          <li onclick="location.href=&apos;http://www.vittoriozaccaria.net/deposit/cv.pdf&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-user"></i></span>
            <div class="sidebar__link_item__name">CV</div>
          </li>
          <li onclick="location.href=&apos;/v2/videos.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-youtube-play"></i></span>
            <div class="sidebar__link_item__name">Videos</div>
          </li>
          <li onclick="location.href=&apos;/v2/address.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-map-marker"></i></span>
            <div class="sidebar__link_item__name">Address</div>
          </li>
        </ul>
        <div class="sidebar__bottom"> 
          <div onclick="location.href=&apos;http://www.linkedin.com/in/vzaccaria&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-linkedin-square"></i></div>
          <div onclick="location.href=&apos;http://twitter.com/_vzaccaria_&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-twitter-square"></i></div>
          <div onclick="location.href=&apos;https://plus.google.com/116322227495215922957/about&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-google-plus-square"></i></div>
        </div>
      </div>
      <div class="site_container">
        <div class="post_container">
          <div class="post_container__post__title">Soluzioni compito Informatica B del 2 Settembre 2013</div>
          <div class="post_container__post__subtitle"> 
            <div class="post_container__post__date"> <i class="fa fa-calendar-o"> </i>
              <div class="post_container__post__date_value">Monday, September 2nd 2013</div>
            </div>
            <div class="post_container__post__category"> <i class="fa fa-flag-o"> </i>
              <div class="post_container__post__category_value">infob</div>
            </div>
            <div class="post_container__post__tags"> <i class="fa fa-tags"></i>
              <div class="post_container__post__tag">esame</div>
              <div class="post_container__post__tag">strutture dati in C</div>
              <div class="post_container__post__tag">ricorsione in Matlab</div>
            </div>
            <div class="share_buttons"> 
              <div class="share_buttons__message">Share: </div>
              <div style="cursor: pointer" class="share_buttons__share_reddit"><i class="fa fa-reddit"> </i></div>
              <div style="cursor: pointer" class="share_buttons__share_twitter"><i class="fa fa-twitter"></i></div>
            </div>
          </div>
          <div class="post_text"><p>L&#39;esame orale si terrà Venerdí 6 Settembre alle ore 14:00 in aula PT1 al DEIB (piano terra).</p>
<h3 id="esercizio-1">Esercizio 1</h3>
<p>La compagnia telefonica TT, utilizza le seguenti strutture dati per memorizzare i dati delle chiamate effettuate dai propri 100 clienti <strong>nell&#39;ultimo mese</strong>:</p>
<pre><code>#define MAX 1000
typedef char stringa[50];
typedef struct
{
    int ora;    // ora di inizio della chiamata telefonica (da 0 a 23)
    int minuti; // minuti di inizio della chiamata telefonica (da 0 a 59)
    int durata; // durata della chiamata telefonica in secondi
} chiamata;

typedef struct
{
    stringa CF;      //codice fiscale del cliente
    int n;           //numero chiamate effettuate dal cliente nell&#39;ultimo mese
    chiamata c[MAX]; //chiamate effettuate dal cliente nell&#39;ultimo mese
} cliente;

// database dei 100 clienti della compagnia
cliente db[100];
</code></pre><p>Si ipotizzi che le telefonate abbiano il seguente costo:</p>
<ul>
<li><p>le telefonate iniziate dalle 22:00 alle 07:59 (estremi inclusi) hanno un costo di <strong>0.005 euro al secondo</strong> </p>
</li>
<li><p>tutte le altre costano <strong>0.01 euro al secondo</strong></p>
</li>
</ul>
<p>Si dichiarari un array di 100 <code>float</code> di nome <code>bolletta</code> e si scriva un frammento di codice C che riempia <code>bolletta</code>, in modo tale che la posizione <code>i</code>-esima di bolletta contenga il costo complessivo delle chiamate effettuate dal cliente <code>i</code>-esimo nell&#39;ultimo mese:</p>
<p><strong>Spazio soluzione:</strong></p>
<pre><code>float bolletta[100];
int i, j, ora;

for (i = 0; i &lt; 100; i++)
{
     bolletta[i] = 0;
     for (j = 0; j &lt; db[i].n; j++)
     {
          ora = db[i].c[j].ora;
          if (ora &gt;= 22 || ora &lt; 8)          
               bolletta[i] += db[i].c[j].durata * 0.005;
          else
               bolletta[i] += db[i].c[j].durata * 0.01;
     }
}
</code></pre><p>Si dichiarari un array di nome <code>premium</code> contenente elementi di tipo <code>cliente</code> e riempirlo (senza lasciare spazi vuoti) con i dati dei clienti che hanno speso <strong>più di 100 euro</strong> nel corso dell&#39;ultimo mese. Si noti che i dati dei clienti si trovano nella variabile <code>db</code> dichiarata sopra.</p>
<p><strong>Spazio soluzione:</strong></p>
<pre><code>cliente premium[100];
int i, k=0;

for (i = 0; i &lt; 100; i++)
     if (bolletta[i] &gt; 100)
        premium[k++] = clienti[i];
</code></pre><h3 id="esercizio-2">Esercizio 2</h3>
<p>Il codice ISBN è una sequenza numerica di 13 cifre usata internazionalmente per la classificazione dei libri. 
L&#39;ultima cifra del codice ISBN svolge una funzione di controllo e viene calcolata con il seguente algoritmo:</p>
<ul>
<li><p>si moltiplica ognuna delle prime 12 cifre per un peso definito in base alla posizione della cifra stessa nella sequenza: la prima cifra si moltiplica per 1, la seconda per 3, la terza per 1, la quarta per 3 e così via</p>
</li>
<li><p>si sommano i risultati delle 12 moltiplicazioni</p>
</li>
<li><p>si divide la somma per 10 e si prende il resto della divisione</p>
</li>
<li><p>si sottrae il resto della divisione da 10: la cifra che si ottiene è la cifra di controllo, ovvero la 13-esima cifra del codice ISBN.</p>
</li>
</ul>
<p>Si risponda ai seguenti quesiti:</p>
<ol>
<li><p>Implementare in linguaggio Matlab una funzione <code>controllo</code> che riceve in ingresso un vettore numerico contenente le prime 12 cifre di un codice ISBN e ritorna la corrispondente 13-esima cifra di controllo.</p>
<p> Esempio:</p>
<pre><code> controllo([9 7 8 8 8 4 3 0 2 5 3 4])
</code></pre><p> ritorna 3 poichè: </p>
<pre><code> 9*1 + 7*3 + 8*1 + 8*3 + 8*1 + 4*3 + 3*1 + 0*3 + 2*1 + 5*3 + 3*1 + 4*3 = 117
 117 mod 10 = 7
 10 - 7 = 3
</code></pre><p> <strong>Spazio soluzione:</strong></p>
<pre><code> function c = controllo(a)
      s = sum(a(1:2:12)) + sum(3 * a(2:2:12));
      c = 10 - mod(s,10);
</code></pre></li>
<li><p>Implementare in linguaggio Matlab una funzione <code>verifica</code> che riceve in ingresso un vettore numerico contenente le 13 cifre di un codice ISBN e ritorna <code>true</code> se la cifra di controllo è corretta, <code>false</code> altrimenti.</p>
<p> Esempio:</p>
<pre><code> verifica([9 7 8 8 8 4 3 0 2 5 3 4 3]) 
</code></pre><p> ritorna <code>true</code> dato che, come visto sopra, la cifra di controllo corretta per l’input considerato è 3.</p>
<p> <strong>Spazio soluzione:</strong></p>
<pre><code> function r = verifica(a)
      r = a(13) == controllo(a(1:12));
</code></pre></li>
</ol>
<h3 id="esercizio-3">Esercizio 3</h3>
<p>Si consideri la seguente funzione in codice Matlab:</p>
<pre><code>function r = f(a)

    if a == 0
      r = [];
    else
      r = [f(floor(a/2)) mod(a,2)];
    end
</code></pre><ol>
<li><p>Qual è il valore ritornato dalla chiamata <code>f(5)</code>?</p>
<p> <strong>Spazio soluzione:</strong></p>
<p> Valore risultante: <code>[1 0 1]</code></p>
</li>
<li><p>Qual è il valore ritornato dalla chiamata <code>f(10)</code>?</p>
<p> <strong>Spazio soluzione:</strong></p>
<p> Valore risultante: <code>[1 0 1 0]</code></p>
</li>
</ol>
<ol>
<li><p>Ipotizzando che la funzione <code>f(a)</code> venga chiamata con un argomento a intero e positivo, descrivere sinteticamente cosa calcola la funzione</p>
<p> <strong>Spazio soluzione:</strong></p>
<p> La funzione <code>f(a)</code> calcola le cifre della codifica binaria del numero <code>a</code>.  </p>
</li>
</ol>
</div>
          <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
          <div id="disqus_thread" class="post_container__comments"> 
            <script>(function() {
  var disqus_shortname, dsq;

  disqus_shortname = 'vittoriozaccaria';

  dsq = document.createElement('script');

  dsq.type = 'text/javascript';

  dsq.async = true;

  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';

  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

}).call(this);

            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>