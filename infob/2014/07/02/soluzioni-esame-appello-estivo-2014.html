<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head lang="en">
    <title>Soluzioni esame appello estivo 2014</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
    <script type="text/javascript" src="/v2/js/client.js"></script>
  </head>
  <body ng-app="application">
    <div class="site_wrapper">
      <div class="sidebar"> <img class="sidebar__picture">
        <div class="sidebar__name">Vittorio Zaccaria</div>
        <div class="sidebar__address">Politecnico di Milano</div>
        <ul class="sidebar__link_list">
          <li onclick="location.href=&apos;/v2&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-home"></i></span>
            <div class="sidebar__link_item__name">Home</div>
          </li>
          <li onclick="location.href=&apos;/v2/research.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-flask"></i></span>
            <div class="sidebar__link_item__name">Research</div>
          </li>
          <li onclick="location.href=&apos;/v2/blog.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-quote-left"></i></span>
            <div class="sidebar__link_item__name">Blog</div>
          </li>
          <li onclick="location.href=&apos;/v2/projects.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-floppy-o"></i></span>
            <div class="sidebar__link_item__name">Projects</div>
          </li>
          <li onclick="location.href=&apos;/v2/teaching.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-graduation-cap"></i></span>
            <div class="sidebar__link_item__name">Teaching</div>
          </li>
          <li onclick="location.href=&apos;http://www.vittoriozaccaria.net/deposit/cv.pdf&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-user"></i></span>
            <div class="sidebar__link_item__name">CV</div>
          </li>
          <li onclick="location.href=&apos;/v2/videos.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-youtube-play"></i></span>
            <div class="sidebar__link_item__name">Videos</div>
          </li>
          <li onclick="location.href=&apos;/v2/address.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-map-marker"></i></span>
            <div class="sidebar__link_item__name">Address</div>
          </li>
        </ul>
        <div class="sidebar__bottom"> 
          <div onclick="location.href=&apos;http://www.linkedin.com/in/vzaccaria&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-linkedin-square"></i></div>
          <div onclick="location.href=&apos;http://twitter.com/_vzaccaria_&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-twitter-square"></i></div>
          <div onclick="location.href=&apos;https://plus.google.com/116322227495215922957/about&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-google-plus-square"></i></div>
        </div>
      </div>
      <div class="site_container">
        <div class="post_container">
          <div class="post_container__post__title">Soluzioni esame appello estivo 2014</div>
          <div class="post_container__post__subtitle"> 
            <div class="post_container__post__date"> <i class="fa fa-calendar-o"> </i>
              <div class="post_container__post__date_value">Wednesday, July 2nd 2014</div>
            </div>
            <div class="post_container__post__category"> <i class="fa fa-flag-o"> </i>
              <div class="post_container__post__category_value">infob</div>
            </div>
            <div class="post_container__post__tags"> <i class="fa fa-tags"></i>
              <div class="post_container__post__tag">esame</div>
              <div class="post_container__post__tag">soluzione compito</div>
              <div class="post_container__post__tag">C</div>
              <div class="post_container__post__tag">Matlab</div>
            </div>
            <div class="share_buttons"> 
              <div class="share_buttons__message">Share: </div>
              <div style="cursor: pointer" class="share_buttons__share_reddit"><i class="fa fa-reddit"> </i></div>
              <div style="cursor: pointer" class="share_buttons__share_twitter"><i class="fa fa-twitter"></i></div>
            </div>
          </div>
          <div class="post_text"><h1 id="esercizio-1">Esercizio 1</h1>
<p>Scrivere un programma in linguaggio C con le seguenti caratteristiche:  </p>
<p>Il programma deve acquisire da tastiera due valori interi <code>nRighe</code> e <code>nCol</code>. I due valori devono essere pari, maggiori di 0 e minori di <code>N</code>, dove <code>N</code> è una costante che deve essere opportunamente definita con valore 100. L&#39;acquisizione deve essere ripetuta finché l&#39;utente non inserisce valori corretti.</p>
<p>Successivamente, il programma acquisisce da tastiera <code>nRighe</code> x <code>nCol</code> valori interi e li memorizza in una matrice <code>m</code>, di dimensioni massime <code>N</code> x <code>N</code>, organizzandoli su un numero di righe pari a <code>nRighe</code> e un numero di colonne pari a <code>nCol</code>.</p>
<p>Infine, considerando la matrice <code>m</code> come suddivisa in sotto-matrici 2x2, il programma deve calcolare e stampare a video il numero di sotto-matrici 2x2 con media maggiore di 10. </p>
<p><strong>Esempio</strong></p>
<p>Per esempio, si consideri il caso in cui l&#39;utente inserisce la seguente matrice <code>m</code>:</p>
<div>
\begin{equation}
m = 
\left[
\begin{array}{cccccc}
3 &amp; 20 &amp; 4 &amp; 5 &amp; 2 &amp; 7 \\ 
6 &amp; 7 &amp; 50 &amp; 60 &amp; 9 &amp; 15 \\ 
2 &amp; 4 &amp; 1 &amp; 1 &amp; 20 &amp; 10 \\ 
80 &amp; 3 &amp; 1 &amp; 1 &amp; 8 &amp; 12 \\ 
\end{array}
\right]
\end{equation}
</div>

<p>Questa matrice ha 4 righe e 6 colonne, ed è di fatto composta da 6 sotto-matrici 2x2</p>
<div>
\begin{equation}
\left[
\begin{array}{ccc}
M_1 &amp; M_2 &amp; M_3 \\
M_4 &amp; M_5 &amp; M_6 \\
\end{array}
\right]
\end{equation}
</div>

<p>ove, ad esempio, la sotto-matrice M_1 è pari a</p>
<div>
\begin{equation}
M_1 = 
\left[
\begin{array}{cc}
3 &amp; 20  \\
6 &amp; 7 \\
\end{array}
\right]
\end{equation}
</div>

<p> ed ha media pari a 9. La seconda matrice (M_2) ha media 29.75, la terza 8.25, la quarta 22.25, la quinta 1 e la sesta 12.5. </p>
<p> Per questo particolare esempio, il valore che deve essere stampato a video è quindi 3 poiché solo tre sotto-matrici hanno media maggiore di 10.</p>
<p><strong>Soluzione</strong></p>
<pre><code class="lang-c">int main()
{
    int m[N][N], nRighe, nCol, i, j, cont = 0;
    float media;

    /* Acquisizione dei numeri di righe e colonne */
    do{
        printf(&quot;Inserire il numero di righe: &quot;);
        scanf(&quot;%d&quot;, &amp;nRighe);
    } while(nRighe &lt;= 0 || nRighe &gt;= N || (nRighe % 2 != 0));

    do{
        printf(&quot;Inserire il numero di colonne: &quot;);
        scanf(&quot;%d&quot;, &amp;nCol);
    } while(nCol &lt;= 0 || nCol &gt;= N || (nCol % 2 != 0));

    /* Acquisizione della matrice */
    for(i = 0; i &lt; nRighe; i++){
        for(j = 0; j &lt; nCol; j++){
            printf(&quot;Inserire l&#39;elemento in posizione (%d, %d): &quot;, i, j);
            scanf(&quot;%d&quot;, &amp;m[i][j]);
        }
    }

    /* Conteggio delle sottomatrici con media maggiore di 10 */
    for(i = 0; i &lt; nRighe; i = i + 2){
        for(j = 0; j &lt; nCol; j = j + 2){
            media = (m[i][j] + m[i+1][j] + m[i][j+1] + m[i+1][j+1]) / 4.0;
            if(media &gt; 10)
                cont++;
        }
    }

    printf(&quot;Ci sono %d sottomatrici con media maggiore di 10.&quot;, cont);

    return 0;
}
</code></pre>
<h1 id="esercizio-2">Esercizio 2</h1>
<p>Sia dato un array definito in Matlab e contenente le informazioni riguardanti le precipitazioni registrate da una stazione meteorologica. Ogni elemento dell&#39;array <code>dati</code> è una <code>struct</code> che contiene un campo numerico <code>giorno</code>, un campo numerico <code>mese</code>, un campo numerico <code>anno</code>, e un campo numerico <code>mm</code> che rappresenta la quantità di pioggia (in mm) caduta nella data specificata dai precedenti campi. </p>
<p>Ad esempio, per memorizzare nell&#39;array <code>dati</code> che il 3 giugno 2013 sono stati registrati 15 mm di pioggia si avrà:</p>
<pre><code class="lang-pascal">dati(i) = struct(&quot;giorno&quot;, 3, &quot;mese&quot;, 6, &quot;anno&quot;, 2013, &quot;mm&quot;, 15);
</code></pre>
<h2 id="domanda-1">Domanda 1</h2>
<p>Scrivere una funzione Matlab <code>media</code> che riceva in ingresso l&#39;array <code>dati</code> e un parametro numerico <code>anno</code>; la funzione deve restituire in uscita un array di 12 elementi che, sulla base del contenuto dell&#39;array <code>dati</code>, fornisca il valore medio dei mm di pioggia in ciascun mese dell&#39;anno solare <code>anno</code>.</p>
<pre><code class="lang-pascal">function stat = media (dati,anno) 
     for i = 1:12 
       idx = [dati.anno] == anno &amp; [dati.mese] == i;   
       stat(i) = mean([dati(idx).mm]); 
     end
</code></pre>
<h2 id="domanda-2">Domanda 2</h2>
<p>Scrivere una funzione Matlab di ordine superiore <code>mostra</code> che riceva in  ingresso l&#39;array <code>dati</code>, un parametro funzione <code>f</code> e un parametro numerico <code>anno</code>. Si assuma che <code>f</code> abbia la stessa intestazione della funzione <code>media</code> alla domanda precedente. 
La funzione <code>mostra</code> deve applicare <code>f</code> all&#39;array <code>dati</code> per calcolare una statistica mese per mese dell&#39;anno solare specificato dal parametro <code>anno</code>; inoltre, la funzione <code>mostra</code> deve visualizzare i valori di tale statistica mensile mediante un grafico, con il mese in ascissa e il valore della statistica per ciascun mese in ordinata.</p>
<pre><code class="lang-pascal">function mostra (dati,f,anno) 
    stat = f(dati,anno); 
    plot (1:12,stat);
</code></pre>
<h2 id="domanda-3">Domanda 3</h2>
<p>Scrivere un esempio di chiamata della funzione <code>mostra</code> implementata al punto precedente, con cui si vuole mostrare il grafico delle precipitazioni medie mensili dell&#39;anno 2012, i cui valori sono contenuti in un array <code>dati</code> che deve essere caricato con i valori memorizzati in un file in formato Matlab di nome <code>dati</code>.</p>
<pre><code class="lang-pascal">load ‘dati’ dati;
mostra(dati,@media,2012);
</code></pre>
<p>\newpage </p>
<h1 id="esercizio-3">Esercizio 3</h1>
<ol>
<li>Si determini la codifica del valore 8.0 secondo lo Standard IEEE 754-1985 a precisione singola, riportando i calcoli effettuati.</li>
<li>Si determini la codifica del valore 0.4 secondo lo stesso standard, sempre riportando i calcoli effettuati.</li>
<li>Si consideri il seguente programma in linguaggio C e si indichi l&#39;effetto della sua esecuzione, motivando adeguatamente la risposta.</li>
</ol>
<pre><code class="lang-c">#include &lt;stdio.h&gt;

int main() {
    float f;
    int i;

    f = 0.4;

    for (i = 1; i &lt; 20; i++)
        f = f + 0.4;

    printf(&quot;\n\nIl numero 0.4 * 20 &quot;);
    if (f != 8.0) printf(&quot;non &quot;);
    printf(&quot;e&#39; uguale a %f\n\n&quot;, 8.0);

    return 0;
}
</code></pre>
<p><strong>Soluzione</strong></p>
<p>La rappresentazione di 8 è:</p>
<pre><code>0 10000010 00000000000000000000000
</code></pre><p>Si noti che la rappresentazione è esatta, nel senso che non sono state introdotte approssimazioni. La rappresentazione di 0.4 è periodica:</p>
<pre><code>0 01111101 10011001100110011001100
</code></pre><p>Si noti che la rappresentazione è approssimata, per via del fatto che la parte frazionaria è periodica. In conclusione, viene visualizzata la scritta </p>
<pre><code>Il numero 0.4 * 20 non e&#39; uguale a 8.0
</code></pre><p>a causa degli errori che si accumulano durante le operazioni di somma, poiché l&#39;addendo è rappresentato in modo approssimato, e la somma viene confrontata col numero 8.0 che invece è rappresentato in modo esatto.  </p>
</div>
          <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
          <div id="disqus_thread" class="post_container__comments"> 
            <script>(function() {
  var disqus_shortname, dsq;

  disqus_shortname = 'vittoriozaccaria';

  dsq = document.createElement('script');

  dsq.type = 'text/javascript';

  dsq.async = true;

  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';

  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

}).call(this);

            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>