<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head lang="en">
    <title>lezione del 15/1</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
    <script type="text/javascript" src="/js/client.js"></script>
  </head>
  <body ng-app="application">
    <div class="site_wrapper">
      <div class="sidebar"> <img class="sidebar__picture">
        <div class="sidebar__name">Vittorio Zaccaria</div>
        <div class="sidebar__address">Politecnico di Milano</div>
        <ul class="sidebar__link_list">
          <li onclick="location.href=&apos;/&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-home"></i></span>
            <div class="sidebar__link_item__name">Home</div>
          </li>
          <li onclick="location.href=&apos;/research.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-flask"></i></span>
            <div class="sidebar__link_item__name">Research</div>
          </li>
          <li onclick="location.href=&apos;/blog.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-quote-left"></i></span>
            <div class="sidebar__link_item__name">Blog</div>
          </li>
          <li onclick="location.href=&apos;/projects.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-floppy-o"></i></span>
            <div class="sidebar__link_item__name">Projects</div>
          </li>
          <li onclick="location.href=&apos;/teaching.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-graduation-cap"></i></span>
            <div class="sidebar__link_item__name">Teaching</div>
          </li>
          <li onclick="location.href=&apos;/deposit/cv.pdf&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-user"></i></span>
            <div class="sidebar__link_item__name">CV</div>
          </li>
          <li onclick="location.href=&apos;/videos.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-youtube-play"></i></span>
            <div class="sidebar__link_item__name">Videos</div>
          </li>
          <li onclick="location.href=&apos;/address.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-map-marker"></i></span>
            <div class="sidebar__link_item__name">Address</div>
          </li>
        </ul>
        <div class="sidebar__bottom"> 
          <div onclick="location.href=&apos;http://www.linkedin.com/in/vzaccaria&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-linkedin-square"></i></div>
          <div onclick="location.href=&apos;http://twitter.com/_vzaccaria_&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-twitter-square"></i></div>
          <div onclick="location.href=&apos;https://plus.google.com/116322227495215922957/about&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-google-plus-square"></i></div>
        </div>
      </div>
      <div class="site_container">
        <div class="post_container">
          <div class="post_container__post__title">lezione del 15/1</div>
          <div class="post_container__post__subtitle"> 
            <div class="post_container__post__date"> <i class="fa fa-calendar-o"> </i>
              <div class="post_container__post__date_value">Wednesday, January 15th 2014</div>
            </div>
            <div class="post_container__post__category"> <i class="fa fa-flag-o"> </i>
              <div class="post_container__post__category_value">infob</div>
            </div>
            <div class="post_container__post__tags"> <i class="fa fa-tags"></i>
              <div class="post_container__post__tag">esercizi</div>
              <div class="post_container__post__tag">funzioni in matlab</div>
            </div>
            <div class="share_buttons"> 
              <div class="share_buttons__message">Share: </div>
              <div style="cursor: pointer" class="share_buttons__share_reddit"><i class="fa fa-reddit"> </i></div>
              <div style="cursor: pointer" class="share_buttons__share_twitter"><i class="fa fa-twitter"></i></div>
            </div>
          </div>
          <div class="post_text"><h1 id="esercizio-sugli-scontrini">Esercizio sugli scontrini</h1>
<p>Un supermercato ha memorizzato il proprio archivio di scontrini nell&#39;array struttura <code>scontrini</code> i cui elementi caratterizzano, ciascuno, una singola spesa ed hanno i seguenti campi:</p>
<ul>
<li><code>id_cliente</code>: numero del cliente (<strong>maggiore di zero</strong>).</li>
<li><code>totale</code>: totale della spesa in EUR.</li>
<li><code>punti_premio</code>: i punti premio extra associati alle promozioni della spesa</li>
</ul>
<p>Per ogni spesa viene assegnato al cliente un quantitativo di punti premio pari alla somma di:</p>
<ul>
<li>il valore dei <code>punti_premio</code> della spesa </li>
<li>un punto premio per ogni 10 euro spesi.</li>
</ul>
<h4 id="domanda">Domanda</h4>
<p>Scrivere un programma che, data la struttura <code>scontrini</code>, costruisca un array <code>saldo</code> contenente le informazioni <code>(id_cliente, totale_punti_premio)</code> ove <code>id_cliente</code> e&#39; un identificatore univoco del cliente e <code>totale_punti_premio</code> e&#39; il totale di punti premio dati al cliente per <strong>tutte le sue spese</strong>.</p>
<h4 id="soluzione">Soluzione</h4>
<p>Inizializzazione struttura di esempio:</p>
<pre><code>% Inizializzazione variabili

scontrini(1).id_cliente   = 1;
scontrini(1).punti_premio = 10;
scontrini(1).totale       = 50;

scontrini(2).id_cliente   = 1;
scontrini(2).punti_premio = 10;
scontrini(2).totale       = 50;

scontrini(3).id_cliente   = 4;
scontrini(3).punti_premio = 10;
scontrini(3).totale       = 50;
</code></pre><p>soluzione problema:</p>
<pre><code>clienti        = [scontrini.id_cliente];
n              = 1;
saldo(1).id    = -1;
saldo(1).punti = 0;

for i = 1:length(clienti)

  id_univoci = [saldo.id];

  if ~ any( id_univoci == clienti(i) ) 

    % Trova gli scontrini del cliente i-esimo
    scont_cliente_i = ([scontrini.id_cliente] == clienti(i));

    % Trova le spese del associate agli scontrini 
    spese_cliente_i = find( scont_cliente_i );

    % Recupera i punti
    puntp_cliente_i = [scontrini(spese_cliente_i).punti_premio];
    punts_cliente_i = floor([scontrini(spese_cliente_i).totale]/10);

    % Aggiorna il saldo
    saldo(n).id    = clienti(i);
    saldo(n).punti = sum(puntp_cliente_i) + sum(punts_cliente_i);

    printf(&#39;Saldo cliente %d = %d punti\n&#39;, saldo(n).id, saldo(n).punti)
    n = n + 1;
  end
end
</code></pre><h1 id="continuazione-dell-argomento-memoria-del-calcolatore-">Continuazione dell&#39;argomento &#39;memoria del calcolatore&#39;</h1>
<p>Ecco di seguito il materiale presentato nella lezione di oggi:</p>
<ul>
<li><a href="http://www.vittoriozaccaria.net/deposit/17_caches.pdf">Memorie cache</a>. </li>
</ul>
</div>
          <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
          <div id="disqus_thread" class="post_container__comments"> 
            <script>(function() {
  var disqus_shortname, dsq;

  disqus_shortname = 'vittoriozaccaria';

  dsq = document.createElement('script');

  dsq.type = 'text/javascript';

  dsq.async = true;

  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';

  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

}).call(this);

            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>