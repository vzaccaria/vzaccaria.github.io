<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head lang="en">
    <title>Esercizi su virgola fissa e mobile</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
    <script type="text/javascript" src="/js/client.js"></script>
    <link rel="icon" type="image/png" href="/img/favicon.png">
  </head>
  <body ng-app="application">
    <div class="site_wrapper">
      <div class="sidebar"> <img class="sidebar__picture">
        <div class="sidebar__name">Vittorio Zaccaria</div>
        <div class="sidebar__address">Politecnico di Milano</div>
        <ul class="sidebar__link_list">
          <li onclick="location.href=&apos;/&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-home"></i></span>
            <div class="sidebar__link_item__name">Home</div>
          </li>
          <li onclick="location.href=&apos;/research.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-flask"></i></span>
            <div class="sidebar__link_item__name">Research</div>
          </li>
          <li onclick="location.href=&apos;/blog.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-quote-left"></i></span>
            <div class="sidebar__link_item__name">Blog</div>
          </li>
          <li onclick="location.href=&apos;/projects.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-floppy-o"></i></span>
            <div class="sidebar__link_item__name">Projects</div>
          </li>
          <li onclick="location.href=&apos;/teaching.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-graduation-cap"></i></span>
            <div class="sidebar__link_item__name">Teaching</div>
          </li>
          <li onclick="location.href=&apos;/deposit/cv.pdf&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-user"></i></span>
            <div class="sidebar__link_item__name">CV</div>
          </li>
          <li onclick="location.href=&apos;/videos.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-youtube-play"></i></span>
            <div class="sidebar__link_item__name">Videos</div>
          </li>
          <li onclick="location.href=&apos;/address.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-map-marker"></i></span>
            <div class="sidebar__link_item__name">Address</div>
          </li>
        </ul>
        <div class="sidebar__bottom"> 
          <div onclick="location.href=&apos;http://www.linkedin.com/in/vzaccaria&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-linkedin-square"></i></div>
          <div onclick="location.href=&apos;http://twitter.com/_vzaccaria_&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-twitter-square"></i></div>
          <div onclick="location.href=&apos;https://plus.google.com/116322227495215922957/about&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-google-plus-square"></i></div>
        </div>
      </div>
      <div class="site_container">
        <div class="post_container">
          <div class="post_container__post__title">Esercizi su virgola fissa e mobile</div>
          <div class="post_container__post__subtitle"> 
            <div class="post_container__post__date"> <i class="fa fa-calendar-o"> </i>
              <div class="post_container__post__date_value">Friday, November 7th 2014</div>
            </div>
            <div class="post_container__post__category"> <i class="fa fa-flag-o"> </i>
              <div class="post_container__post__category_value">infob</div>
            </div>
            <div class="post_container__post__tags"> <i class="fa fa-tags"></i>
              <div class="post_container__post__tag">lezione</div>
            </div>
            <div class="share_buttons"> 
              <div class="share_buttons__message">Share: </div>
              <div style="cursor: pointer" class="share_buttons__share_reddit"><i class="fa fa-reddit"> </i></div>
              <div style="cursor: pointer" class="share_buttons__share_twitter"><i class="fa fa-twitter"></i></div>
            </div>
          </div>
          <div class="post_text"><h1 id="virgola-mobile">Virgola Mobile</h1>
<p>Dati i seguenti due numeri in codifica IEEE 754 (virgola mobile, il bit più a sinistra è ovviamente il bit di segno)</p>
<pre><code>A = 00111111100100000000000000000000

B = 10111110000100000000000000000000
</code></pre><p>Calcolare a quanto equivale la divisione A/B (in decimale)</p>
<p><strong>Soluzione</strong></p>
<p>I numeri si differenziano solo per esponente e segno. Si puo&#39; calcolare la divisione prendendo in considerazione solo gli esponenti:</p>
<pre><code>A = - B*2^3
</code></pre><p>Quindi:</p>
<pre><code>A/B = -8
</code></pre><p>Si puo&#39; anche notare che:</p>
<pre><code>A =      (1+2^(-3))        =   1.125
B = -1 * (1+2^(-3))*2^(-3) = - 0.140625
</code></pre><h1 id="virgola-mobile-alt-">Virgola Mobile (alt.)</h1>
<p>Dati i seguenti due numeri in codifica IEEE 754 (virgola mobile, il bit piu&#39; a sinistra e&#39; di segno)</p>
<pre><code>A = 10111111100100000000000000000000

B = 10111110100100000000000000000000
</code></pre><p>Calcolare a quanto equivale la divisione A/B (in decimale)</p>
<p><strong>Soluzione</strong></p>
<p>I numeri si differenziano solo per esponente e segno. Si puo&#39; calcolare la divisione prendendo in considerazione solo gli esponenti:</p>
<pre><code>A = B*2^2
</code></pre><p>Quindi:</p>
<pre><code>A/B = 4
</code></pre><p>Si puo&#39; anche notare che:</p>
<pre><code>A = -1 * (1+2^(-3))
B = -1 * (1+2^(-3))*2^(-2)
</code></pre><h1 id="virgola-mobile-e-approssimazione">Virgola mobile e approssimazione</h1>
<p>Si consideri il seguente programma in linguaggio C:</p>
<pre><code class="lang-c">#define N -17

int main() {
   int a = N/10;
   float b = N/10.0;
   double c = N/10.0;
   double d;

   d = b;
   printf(&quot;%d %f\n&quot;,a,b+c+d);
}
</code></pre>
<p>Si assuma che i tipi delle variabili utilizzate sono codificati in binario in questo modo:</p>
<ul>
<li><p><code>int</code>: complemento a due a 32 bit</p>
</li>
<li><p><code>float</code>: virgola mobile a precisione singola secondo lo standard IEEE 754-1985 (1 bit per il segno, 23 bit per la mantissa, 8 per l’esponente (K = 127))</p>
</li>
<li><p><code>double</code>: virgola mobile a precisione doppia secondo lo standard IEEE 754-1985 (1 bit per il segno, 52 bit per la mantissa, 11 per l’esponente (K = 1023))</p>
</li>
</ul>
<p>Si risponda alle seguenti domande:</p>
<ul>
<li>Qual è il valore in decimale e in binario della variabile <code>a</code> alla fine dell&#39;esecuzione dell&#39;ultima istruzione? </li>
</ul>
<pre><code>a = -17/10 = -1                         (in decimale)
a = 11111111111111111111111111111111    (in binario)
</code></pre><ul>
<li>Qual è il valore in decimale e in binario della variabile <code>b</code> alla fine dell&#39;esecuzione dell&#39;ultima istruzione? </li>
</ul>
<pre><code>b = -1.7                                         (in decimale)        
b = { S:1, M: .1(0110) periodico, E: 01111111 }  (in binario floating point)
</code></pre><ul>
<li>Considerando il risultato ottenuto al punto 2, alla fine dell&#39;esecuzione dell&#39;ultima istruzione le variabili <code>c</code> e <code>d</code> contengono lo stesso valore binario? </li>
</ul>
<blockquote>
<p>Il valore di un numero la cui parte frazionaria e&#39; periodica sarà diverso a seconda che venga calcolato in precisione singola o doppia. Le variabili <code>c</code> e <code>d</code> saranno quindi differenti.</p>
</blockquote>
<ul>
<li>La risposta al punto precedente cambierebbe se la costante <code>N</code> fosse definita pari a 10 anziché a -17?</li>
</ul>
<blockquote>
<p>Per <code>N</code> pari a 10, il valore di <code>c</code> e <code>d</code> non sara&#39; periodico (e quindi approssimato) ma esatto. In questo caso la risposta cambierebbe.</p>
</blockquote>
<h1 id="virgola-mobile-e-approssimazione-alt-">Virgola mobile e approssimazione (alt.)</h1>
<ol>
<li><p>Si determini la codifica del valore 8.0 secondo lo Standard IEEE 754-1985 a precisione singola, riportando i calcoli effettuati.</p>
<pre><code> S = 0
 E = 10000010
 M = .00000000000000000000000
</code></pre></li>
<li><p>Si determini la codifica del valore 0.4 secondo lo stesso standard, sempre riportando i calcoli effettuati.</p>
<pre><code> S = 0
 E = 01111101
 M = .10011001100110011001101
</code></pre></li>
<li><p>Si consideri il seguente programma C e si indichi l&#39;effetto della sua esecuzione, motivando adeguatamente la risposta.</p>
<pre><code> #include &lt;stdio.h&gt;
 main() {
   float f;  int i; 

   f=0.4;
   for (i=1; i&lt;20; i++) 
     f = f+0.4;
   printf(&quot;\nIl numero 0.4*20 &quot;);
   if (f != 8.0) printf(&quot;non &quot;);
   printf(&quot;e&#39; uguale a %f&quot;, 8.0);
 }
</code></pre></li>
</ol>
<blockquote>
<p>Il numero 0.4 ⨉ 20 non e&#39; uguale a 8.0</p>
</blockquote>
<p>Siano date le seguenti definizioni di strutture dati:</p>
<pre><code>#define MAXDB 80

typedef struct
{
  int giorno;
  int mese;
  int anno;
} data;

typedef char stringa[20];

typedef struct
{
  data      data_di_nascita;
  int       giorno_dell_anno;
  int       codice_crimine;
  stringa   stringa_crimine;
} arresto;

arresto database[MAXDB];
int arresti_per_giorno[365];
</code></pre><p>ove <code>database</code> contiene gli arresti effettuati in un determinato anno mentre <code>arresti_per_giorno</code> è una variabile array ausiliaria (i cui elementi sono inizializzati tutti a <code>0</code>) utilizzabile per i calcoli intermedi.</p>
<p>Scrivere una porzione di codice C che ricavi il massimo numero di arresti giornalieri dei nati nel 1979 con <code>codice_crimine</code> pari a <code>555</code>  utilizzando i dati contenuti in <code>database</code>. Si definiscano e inizializzino le eventuali altre variabili temporanee necessarie per tale calcolo. Si assuma che il database  <strong>non sia ordinato</strong>.</p>
<p><strong>Soluzione</strong></p>
<pre><code class="lang-c">int i;
int max;

for(i=0; i&lt;MAXDB; i++)
  if(database[i].data_di_nascita.anno == 1979 &amp;&amp;
    database[i].codice_crimine == 555)
    arresti_per_giorno[database[i].giorno_dell_anno] += 1;

max = 0;
for(i=0; i&lt;365; i++)
  if(arresti_per_giorno[i] &gt; max)
    max = arresti_per_giorno[i]

printf(&quot;Massimo numero di arresti giornalieri: %d&quot;, max);
</code></pre>
</div>
          <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
          <div id="disqus_thread" class="post_container__comments"> 
            <script>(function() {
  var disqus_shortname, dsq;

  disqus_shortname = 'vittoriozaccaria';

  dsq = document.createElement('script');

  dsq.type = 'text/javascript';

  dsq.async = true;

  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';

  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

}).call(this);

            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>