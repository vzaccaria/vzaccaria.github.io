<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head lang="en">
    <title>Esercizi riassuntivi sul C</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
    <script type="text/javascript" src="/js/client.js"></script>
  </head>
  <body ng-app="application">
    <div class="site_wrapper">
      <div class="sidebar"> <img class="sidebar__picture">
        <div class="sidebar__name">Vittorio Zaccaria</div>
        <div class="sidebar__address">Politecnico di Milano</div>
        <ul class="sidebar__link_list">
          <li onclick="location.href=&apos;/&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-home"></i></span>
            <div class="sidebar__link_item__name">Home</div>
          </li>
          <li onclick="location.href=&apos;/research.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-flask"></i></span>
            <div class="sidebar__link_item__name">Research</div>
          </li>
          <li onclick="location.href=&apos;/blog.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-quote-left"></i></span>
            <div class="sidebar__link_item__name">Blog</div>
          </li>
          <li onclick="location.href=&apos;/projects.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-floppy-o"></i></span>
            <div class="sidebar__link_item__name">Projects</div>
          </li>
          <li onclick="location.href=&apos;/teaching.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-graduation-cap"></i></span>
            <div class="sidebar__link_item__name">Teaching</div>
          </li>
          <li onclick="location.href=&apos;/deposit/cv.pdf&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-user"></i></span>
            <div class="sidebar__link_item__name">CV</div>
          </li>
          <li onclick="location.href=&apos;/videos.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-youtube-play"></i></span>
            <div class="sidebar__link_item__name">Videos</div>
          </li>
          <li onclick="location.href=&apos;/address.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-map-marker"></i></span>
            <div class="sidebar__link_item__name">Address</div>
          </li>
        </ul>
        <div class="sidebar__bottom"> 
          <div onclick="location.href=&apos;http://www.linkedin.com/in/vzaccaria&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-linkedin-square"></i></div>
          <div onclick="location.href=&apos;http://twitter.com/_vzaccaria_&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-twitter-square"></i></div>
          <div onclick="location.href=&apos;https://plus.google.com/116322227495215922957/about&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-google-plus-square"></i></div>
        </div>
      </div>
      <div class="site_container">
        <div class="post_container">
          <div class="post_container__post__title">Esercizi riassuntivi sul C</div>
          <div class="post_container__post__subtitle"> 
            <div class="post_container__post__date"> <i class="fa fa-calendar-o"> </i>
              <div class="post_container__post__date_value">Tuesday, November 18th 2014</div>
            </div>
            <div class="post_container__post__category"> <i class="fa fa-flag-o"> </i>
              <div class="post_container__post__category_value">infob</div>
            </div>
            <div class="post_container__post__tags"> <i class="fa fa-tags"></i>
              <div class="post_container__post__tag">esercizi</div>
              <div class="post_container__post__tag">strutture dati</div>
              <div class="post_container__post__tag">tabelle della verità</div>
            </div>
            <div class="share_buttons"> 
              <div class="share_buttons__message">Share: </div>
              <div style="cursor: pointer" class="share_buttons__share_reddit"><i class="fa fa-reddit"> </i></div>
              <div style="cursor: pointer" class="share_buttons__share_twitter"><i class="fa fa-twitter"></i></div>
            </div>
          </div>
          <div class="post_text"><p><strong>Update</strong>: <a href="https://dl.dropboxusercontent.com/u/5867765/slides-informatica-b/EsLab32014InfoB.pdf">Esercizi fatti al laboratorio con soluzioni</a>.</p>
<h1 id="duplicati-in-array">Duplicati in array</h1>
<p>Si supponga di avere due array di interi e le loro dimensioni effettive nelle opportune variabili:</p>
<pre><code class="lang-c">int pippo[10];
int dim_pippo = 4;

int pluto[20];
int dim_pluto = 6;
</code></pre>
<p>Scrivere un array che determina quali interi sono presenti sia in <code>pippo</code> che in <code>pluto</code>.</p>
<pre><code class="lang-c">int i;
int j;
for(i=0; i&lt;dim_pippo; i++) {
  int da_cercare_in_pluto = pippo[i];
  for(j=0; j&lt;dim_pluto; j++) {
    if(da_cercare_in_pluto == pluto[j]) {
      printf(&quot;Intero %d sia in pippo che in pluto&quot;, da_cercare_in_pluto);
    }
  }
}
</code></pre>
<h1 id="tabella-verit-">Tabella verità</h1>
<p>Completare la tabella della verita’ per l’espressione </p>
<pre><code>NOT (A AND (NOT B) AND C)
</code></pre><p>Soluzione:</p>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>C</th>
<th>Valore espressione</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<h1 id="compagnia-telefonica">Compagnia telefonica</h1>
<p>La compagnia telefonica TT, utilizza le seguenti strutture dati per memorizzare i dati delle chiamate effettuate dai propri 100 clienti <strong>nell&#39;ultimo mese</strong>:</p>
<pre><code class="lang-c">#define MAX 1000
typedef char stringa[50];
typedef struct
{
    int ora;    // ora di inizio della chiamata telefonica (da 0 a 23)
    int minuti; // minuti di inizio della chiamata telefonica (da 0 a 59)
    int durata; // durata della chiamata telefonica in secondi
} chiamata;

typedef struct
{
    stringa CF;      //codice fiscale del cliente
    int n;           //numero chiamate effettuate dal cliente nell&#39;ultimo mese
    chiamata c[MAX]; //chiamate effettuate dal cliente nell&#39;ultimo mese
} cliente;

// database dei 100 clienti della compagnia
cliente db[100];
</code></pre>
<p>Si ipotizzi che le telefonate abbiano il seguente costo:</p>
<ul>
<li><p>le telefonate iniziate dalle 22:00 alle 07:59 (estremi inclusi) hanno un costo di <strong>0.005 euro al secondo</strong> </p>
</li>
<li><p>tutte le altre costano <strong>0.01 euro al secondo</strong></p>
</li>
</ul>
<p>Si dichiarari un array di 100 <code>float</code> di nome <code>bolletta</code> e si scriva un frammento di codice C che riempia <code>bolletta</code>, in modo tale che la posizione <code>i</code>-esima di bolletta contenga il costo complessivo delle chiamate effettuate dal cliente <code>i</code>-esimo nell&#39;ultimo mese:</p>
<p><strong>Spazio soluzione:</strong></p>
<pre><code>float bolletta[100];
int i, j, ora;

for (i = 0; i &lt; 100; i++)
{
     bolletta[i] = 0;
     for (j = 0; j &lt; db[i].n; j++)
     {
          ora = db[i].c[j].ora;
          if (ora &gt;= 22 || ora &lt; 8)          
               bolletta[i] += db[i].c[j].durata * 0.005;
          else
               bolletta[i] += db[i].c[j].durata * 0.01;
     }
}
</code></pre><p>Si dichiarari un array di nome <code>premium</code> contenente elementi di tipo <code>cliente</code> e riempirlo (senza lasciare spazi vuoti) con i dati dei clienti che hanno speso <strong>più di 100 euro</strong> nel corso dell&#39;ultimo mese. Si noti che i dati dei clienti si trovano nella variabile <code>db</code> dichiarata sopra.</p>
<p><strong>Spazio soluzione:</strong></p>
<pre><code>cliente premium[100];
int i, k=0;

for (i = 0; i &lt; 100; i++)
     if (bolletta[i] &gt; 100)
        premium[k++] = clienti[i];
</code></pre><h1 id="twitter">Twitter</h1>
<p>Sia data la definizione di stringa:</p>
<pre><code>typedef char stringa[30];
</code></pre><p>e la definizione di un messaggio tweet di 140 caratteri, contenente al massimo 4 hashtags (quelle stringhe nei tweet che cominciano con <code>&#39;#&#39;</code>, ad esempio, <code>&quot;#poli&quot;</code>):</p>
<pre><code>typedef struct {
    char contenuto[140];
    int  numero_hashtags;
    stringa hashtags[4];
} tweet;
</code></pre><p>Sia data la seguente struttura di utente twitter:</p>
<pre><code>typedef struct {
    stringa nome;
    int     data_iscrizione; /* anno di iscrizione a twitter */
    int     numero_messaggi; /* numero effettivo messaggi */
    tweet   messaggi[100];
} utente;
</code></pre><p>e di database di utenti:</p>
<pre><code>typedef struct {
    int numero_utenti;
    utente dati_utente[100];
} database;

database twitterdb;
</code></pre><p>Si chiede di scrivere un programma che stampi a video tutti gli utenti iscritti dal 2012 che hanno usato l&#39;hashtag &quot;#poli&quot; in almeno uno dei propri messaggi. Se, ad esempio, vi sono solo tre utenti nel database:</p>
<ul>
<li><p>@vzaccaria, iscritto dal 2012, messaggi: </p>
<ul>
<li>&quot;E&#39; finito il primo emisemestre! #poli&quot;</li>
<li>&quot;E&#39; ora del primo compitino! #poli&quot;</li>
</ul>
</li>
<li><p>@obama, iscritto dal 2009, messaggi: </p>
<ul>
<li>&quot;Politecnico is cool! #poli&quot;</li>
</ul>
</li>
<li><p>@merkel, iscritta dal 2012, messaggi:</p>
<ul>
<li>&quot;Come to germany!&quot;</li>
</ul>
</li>
</ul>
<p>Il programma deve stampare:</p>
<pre><code>Utente @vzaccaria ha usato #poli !!
</code></pre><p><strong>Soluzione</strong>:</p>
<pre><code class="lang-c">int main()
{
    int u;
    int t;
    int h;
    for(u=0; u&lt;twitterdb.numero_utenti; u++)
    {
        int trovato = 0;
        if(twitterdb.dati_utente[u].data_iscrizione &gt; 2012)
        {
            for( t=0; t&lt; twitterdb.dati_utente[u].numero_messaggi; t++ )
            {
                for( h=0; h&lt; twitterdb.dati_utente[u].messaggi[t].numero_hashtags; h++)
                {
                    if(strcmp(twitterdb.dati_utente[u].messaggi[t].hashtags[h], &quot;#poli&quot;) == 0)
                        trovato = 1;
                }
            }
        }
        if(trovato)
        {
            printf(&quot;Utente %s ha usato #poli !!\n&quot;, twitterdb.dati_utente[u].nome);
        }
    }
}
</code></pre>
<h1 id="altri-esercizi">Altri esercizi</h1>
<h1 id="parity-bit">Parity bit</h1>
<p>Definire un programma che riceva in ingresso un array <code>v</code> e stampi <code>true</code> solo se <code>v</code> ha un numero pari di elementi veri, altrimenti stampa <code>false</code>.</p>
<pre><code class="lang-c">
int v[100];
int n; int i;
int pari = 1;

printf(&quot;Inserisci il numero di elementi&quot;);
scanf(&quot;%d&quot;, &amp;n);

for(i=0; i&lt;n; i++) {
    printf(&quot;Inserisci elemento numero %d&quot;, (i+1));
    scanf(&quot;%d&quot;, &amp;v[i]);
}

for(i=0; i&lt;n; i++) {
    if(v[i]) {
        pari = !(pari)
    }
}

if(pari) {
    printf(&quot;true&quot;);
} 
else {
    printf(&quot;false&quot;);
}
</code></pre>
</div>
          <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
          <div id="disqus_thread" class="post_container__comments"> 
            <script>(function() {
  var disqus_shortname, dsq;

  disqus_shortname = 'vittoriozaccaria';

  dsq = document.createElement('script');

  dsq.type = 'text/javascript';

  dsq.async = true;

  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';

  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

}).call(this);

            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>