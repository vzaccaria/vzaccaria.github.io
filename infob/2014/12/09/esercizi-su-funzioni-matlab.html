<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head lang="en">
    <title>Esercizi su funzioni Matlab</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
    <script type="text/javascript" src="/v2/js/client.js"></script>
  </head>
  <body ng-app="application">
    <div class="site_wrapper">
      <div class="sidebar"> <img class="sidebar__picture">
        <div class="sidebar__name">Vittorio Zaccaria</div>
        <div class="sidebar__address">Politecnico di Milano</div>
        <ul class="sidebar__link_list">
          <li onclick="location.href=&apos;/v2&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-home"></i></span>
            <div class="sidebar__link_item__name">Home</div>
          </li>
          <li onclick="location.href=&apos;/v2/research.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-flask"></i></span>
            <div class="sidebar__link_item__name">Research</div>
          </li>
          <li onclick="location.href=&apos;/v2/blog.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-quote-left"></i></span>
            <div class="sidebar__link_item__name">Blog</div>
          </li>
          <li onclick="location.href=&apos;/v2/projects.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-floppy-o"></i></span>
            <div class="sidebar__link_item__name">Projects</div>
          </li>
          <li onclick="location.href=&apos;/v2/teaching.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-graduation-cap"></i></span>
            <div class="sidebar__link_item__name">Teaching</div>
          </li>
          <li onclick="location.href=&apos;http://www.vittoriozaccaria.net/deposit/cv.pdf&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-user"></i></span>
            <div class="sidebar__link_item__name">CV</div>
          </li>
          <li onclick="location.href=&apos;/v2/videos.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-youtube-play"></i></span>
            <div class="sidebar__link_item__name">Videos</div>
          </li>
          <li onclick="location.href=&apos;/v2/address.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-map-marker"></i></span>
            <div class="sidebar__link_item__name">Address</div>
          </li>
        </ul>
        <div class="sidebar__bottom"> 
          <div onclick="location.href=&apos;http://www.linkedin.com/in/vzaccaria&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-linkedin-square"></i></div>
          <div onclick="location.href=&apos;http://twitter.com/_vzaccaria_&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-twitter-square"></i></div>
          <div onclick="location.href=&apos;https://plus.google.com/116322227495215922957/about&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-google-plus-square"></i></div>
        </div>
      </div>
      <div class="site_container">
        <div class="post_container">
          <div class="post_container__post__title">Esercizi su funzioni Matlab</div>
          <div class="post_container__post__subtitle"> 
            <div class="post_container__post__date"> <i class="fa fa-calendar-o"> </i>
              <div class="post_container__post__date_value">Tuesday, December 9th 2014</div>
            </div>
            <div class="post_container__post__category"> <i class="fa fa-flag-o"> </i>
              <div class="post_container__post__category_value">infob</div>
            </div>
            <div class="post_container__post__tags"> <i class="fa fa-tags"></i>
              <div class="post_container__post__tag">esercizi</div>
              <div class="post_container__post__tag">funzioni matlab</div>
            </div>
            <div class="share_buttons"> 
              <div class="share_buttons__message">Share: </div>
              <div style="cursor: pointer" class="share_buttons__share_reddit"><i class="fa fa-reddit"> </i></div>
              <div style="cursor: pointer" class="share_buttons__share_twitter"><i class="fa fa-twitter"></i></div>
            </div>
          </div>
          <div class="post_text"><h1 id="profilo-argine">Profilo argine</h1>
<p>La seguente figura mostra l’andamento del profilo dell’argine di un fiume <code>p(m)</code> in funzione della distanza dalla foce <code>m</code>:</p>
<pre><code>  p(m)
    |                                         /
    |        o_________o                     /
    |       /           \                   /
    |  o___o             \                 /
    |                     \               /
    |                      \             /
    |                       o___________o
    |
    |
    |____________________________________________________
                                                        m
</code></pre><p>Come si nota, l’argine presenta altezze diverse nei vari punti del fiume. Si supponga che il fiume scorra in piano lungo tutto il suo percorso (non ci sono quindi salti di livello). </p>
<p>Si chiede di sviluppare in Matlab/Octave una funzione <code>calcolaRischio</code> che sia in grado di identificare e restituire al chiamante i punti dell’argine a rischio di esondazione in giornata, in base a:</p>
<ol>
<li><p>profilo dell’argine <code>p(m)</code>: vettore contenente l&#39;altezza dell&#39;argine in metri rispetto al fondo del letto del fiume a distanza <code>m</code> dalla foce (nella precedente figura i dati contenuti in <code>p(m)</code>sono cerchiati)</p>
</li>
<li><p>l’altezza attuale <code>a</code> del fiume (in metri) rispetto al fondo del letto del fiume (sempre considerando la distanza dalla foce <code>m</code>).</p>
</li>
<li><p>quanti millimetri <code>mil</code> di pioggia fara&#39; durante la giornata (al massimo).</p>
</li>
</ol>
<p>Ovviamente i punti dell’argine a rischio di esondazione in giornata sono quelli in cui l’altezza dell’argine è minore dell’altezza massima che può raggiungere il fiume.</p>
<ol>
<li><p>Si scriva il codice della funzione <code>calcolaRischio</code>: </p>
<pre><code class="lang-octave"> function pr = calcolaRischio(p, a, mil)
          pr = find(p &lt;= a + (mil / 1000));
</code></pre>
</li>
<li><p>Si costruisca uno script che: </p>
<ul>
<li><p>carica da un file ascii <code>profiloArgine.txt</code> (contenente un numero per ogni riga) i dati relativi alle altezze dell’argine del fiume nei vari punti (ovvero <code>p(m)</code>).</p>
</li>
<li><p>chiede all’utente l’altezza attuale del fiume <code>a</code> e la previsione di incremento giornaliero totale di altezza del fiume in base alla pioggia prevista <code>mil</code>.</p>
</li>
<li><p>genera una tabella <code>tab</code> contenente, per ciascun punto in cui puo&#39; avvenire una esondazione, il minuto in cui questa potra&#39; avvenire.  </p>
</li>
</ul>
</li>
</ol>
<pre><code class="lang-octave">function [ pr ] = calcolaRischio(p, a, mil)
    pr = find( p &lt;= a + (mil / 1000 ))
end

p   = load(&#39;profilo.txt&#39;)
a   = input(&#39;Altezza attuale&#39;)
mil = input(&#39;Incremento totale previsto per l`intera giornata&#39;)

pr = calcolaRischio(p, a, mil);

minuto = 60*24*1000*(p(pr) - a)/mil;

ore = floor(minuto/60)
minuti = (minuto/60 - ore)*60


tab = [ pr ore minuti ]
</code></pre>
<h1 id="codice-isbn">Codice ISBN</h1>
<p>Il codice ISBN è una sequenza numerica di 13 cifre usata internazionalmente per la classificazione dei libri. 
L&#39;ultima cifra del codice ISBN svolge una funzione di controllo e viene calcolata con il seguente algoritmo:</p>
<ul>
<li><p>si moltiplica ognuna delle prime 12 cifre per un peso definito in base alla posizione della cifra stessa nella sequenza: la prima cifra si moltiplica per 1, la seconda per 3, la terza per 1, la quarta per 3 e così via</p>
</li>
<li><p>si sommano i risultati delle 12 moltiplicazioni</p>
</li>
<li><p>si divide la somma per 10 e si prende il resto della divisione</p>
</li>
<li><p>si sottrae il resto della divisione da 10: la cifra che si ottiene è la cifra di controllo, ovvero la 13-esima cifra del codice ISBN.</p>
</li>
</ul>
<p>Si risponda ai seguenti quesiti:</p>
<ol>
<li><p>Implementare in linguaggio Matlab una funzione <code>controllo</code> che riceve in ingresso un vettore numerico contenente le prime 12 cifre di un codice ISBN e ritorna la corrispondente 13-esima cifra di controllo.</p>
<p> Esempio:</p>
<pre><code> controllo([9 7 8 8 8 4 3 0 2 5 3 4])
</code></pre><p> ritorna 3 poichè: </p>
<pre><code> 9*1 + 7*3 + 8*1 + 8*3 + 8*1 + 4*3 + 3*1 + 0*3 + 2*1 + 5*3 + 3*1 + 4*3 = 117
 117 mod 10 = 7
 10 - 7 = 3
</code></pre><p> <strong>Spazio soluzione:</strong></p>
<pre><code class="lang-octave">       function c = controllo(a)
            s = sum(a(1:2:12)) + sum(3 * a(2:2:12));
            c = 10 - mod(s,10);
</code></pre>
</li>
</ol>
<ol>
<li><p>Implementare in linguaggio Matlab una funzione <code>verifica</code> che riceve in ingresso un vettore numerico contenente le 13 cifre di un codice ISBN e ritorna <code>true</code> se la cifra di controllo è corretta, <code>false</code> altrimenti.</p>
<p> Esempio:</p>
<pre><code> verifica([9 7 8 8 8 4 3 0 2 5 3 4 3]) 
</code></pre><p> ritorna <code>true</code> dato che, come visto sopra, la cifra di controllo corretta per l’input considerato è 3.</p>
<p> <strong>Spazio soluzione:</strong></p>
<pre><code class="lang-matlab">   function r = verifica(a)
      r = a(13) == controllo(a(1:12));
</code></pre>
</li>
</ol>
<h1 id="precipitazione">Precipitazione</h1>
<p>Sia dato un array definito in Matlab e contenente le informazioni riguardanti le precipitazioni registrate da una stazione meteorologica. Ogni elemento dell&#39;array <code>dati</code> è una <code>struct</code> che contiene un campo numerico <code>giorno</code>, un campo numerico <code>mese</code>, un campo numerico <code>anno</code>, e un campo numerico <code>mm</code> che rappresenta la quantità di pioggia (in mm) caduta nella data specificata dai precedenti campi. </p>
<p>Ad esempio, per memorizzare nell&#39;array <code>dati</code> che il 3 giugno 2013 sono stati registrati 15 mm di pioggia si avrà:</p>
<pre><code class="lang-octave">dati(i) = struct(&quot;giorno&quot;, 3, &quot;mese&quot;, 6, &quot;anno&quot;, 2013, &quot;mm&quot;, 15);
</code></pre>
<h2 id="calcolo-media">Calcolo media</h2>
<p>Scrivere una funzione Matlab <code>media</code> che riceva in ingresso l&#39;array <code>dati</code> e un parametro numerico <code>anno</code>; la funzione deve restituire in uscita un array di 12 elementi che, sulla base del contenuto dell&#39;array <code>dati</code>, fornisca il valore medio dei mm di pioggia in ciascun mese dell&#39;anno solare <code>anno</code>.</p>
<pre><code class="lang-octave">function stat = media (dati,anno) 
     for i = 1:12 
       idx = find([dati.anno] == anno &amp; [dati.mese] == i);   
       stat(i) = mean([dati(idx).mm]); 
     end
end
</code></pre>
</div>
          <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
          <div id="disqus_thread" class="post_container__comments"> 
            <script>(function() {
  var disqus_shortname, dsq;

  disqus_shortname = 'vittoriozaccaria';

  dsq = document.createElement('script');

  dsq.type = 'text/javascript';

  dsq.async = true;

  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';

  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

}).call(this);

            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>