<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head lang="en">
    <title>Laboratorio su matlab</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
    <script type="text/javascript" src="/v2/js/client.js"></script>
  </head>
  <body ng-app="application">
    <div class="site_wrapper">
      <div class="sidebar"> <img class="sidebar__picture">
        <div class="sidebar__name">Vittorio Zaccaria</div>
        <div class="sidebar__address">Politecnico di Milano</div>
        <ul class="sidebar__link_list">
          <li onclick="location.href=&apos;/v2&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-home"></i></span>
            <div class="sidebar__link_item__name">Home</div>
          </li>
          <li onclick="location.href=&apos;/v2/research.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-flask"></i></span>
            <div class="sidebar__link_item__name">Research</div>
          </li>
          <li onclick="location.href=&apos;/v2/blog.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-quote-left"></i></span>
            <div class="sidebar__link_item__name">Blog</div>
          </li>
          <li onclick="location.href=&apos;/v2/projects.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-floppy-o"></i></span>
            <div class="sidebar__link_item__name">Projects</div>
          </li>
          <li onclick="location.href=&apos;/v2/teaching.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-graduation-cap"></i></span>
            <div class="sidebar__link_item__name">Teaching</div>
          </li>
          <li onclick="location.href=&apos;http://www.vittoriozaccaria.net/deposit/cv.pdf&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-user"></i></span>
            <div class="sidebar__link_item__name">CV</div>
          </li>
          <li onclick="location.href=&apos;/v2/videos.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-youtube-play"></i></span>
            <div class="sidebar__link_item__name">Videos</div>
          </li>
          <li onclick="location.href=&apos;/v2/address.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-map-marker"></i></span>
            <div class="sidebar__link_item__name">Address</div>
          </li>
        </ul>
        <div class="sidebar__bottom"> 
          <div onclick="location.href=&apos;http://www.linkedin.com/in/vzaccaria&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-linkedin-square"></i></div>
          <div onclick="location.href=&apos;http://twitter.com/_vzaccaria_&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-twitter-square"></i></div>
          <div onclick="location.href=&apos;https://plus.google.com/116322227495215922957/about&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-google-plus-square"></i></div>
        </div>
      </div>
      <div class="site_container">
        <div class="post_container">
          <div class="post_container__post__title">Laboratorio su matlab</div>
          <div class="post_container__post__subtitle"> 
            <div class="post_container__post__date"> <i class="fa fa-calendar-o"> </i>
              <div class="post_container__post__date_value">Friday, January 30th 2015</div>
            </div>
            <div class="post_container__post__category"> <i class="fa fa-flag-o"> </i>
              <div class="post_container__post__category_value">infob</div>
            </div>
            <div class="post_container__post__tags"> <i class="fa fa-tags"></i>
              <div class="post_container__post__tag">lezione</div>
            </div>
            <div class="share_buttons"> 
              <div class="share_buttons__message">Share: </div>
              <div style="cursor: pointer" class="share_buttons__share_reddit"><i class="fa fa-reddit"> </i></div>
              <div style="cursor: pointer" class="share_buttons__share_twitter"><i class="fa fa-twitter"></i></div>
            </div>
          </div>
          <div class="post_text"><h1 id="esercizio-1">Esercizio 1</h1>
<p>Definire una funzione <code>controlla_riga</code> che accetta in ingresso un array di dimensione 1x9. La funzione restituisce 1 se tutti gli elementi dell&#39;array sono compresi tra 1 e 9, altrimenti restituisce 0 (anche se l&#39;array in ingresso ha dimensione diversa da 1 x 9).</p>
<p>Estendere la funzione precedente con il seguente ulteriore requisito: la funzione restituisce 0 anche se nell&#39;array vi sono elementi duplicati, altrimenti restituisce 1.</p>
<p><strong>Esempio</strong>: <code>controlla_riga([3 2 1 4 7 6 5 9 8]) = 1</code> mentre <code>controlla_riga([9 2 1 4 7 6 5 9 8]) = 0</code> (il 9 compare due volte). </p>
<p><strong>Suggerimento</strong>: potrebbe essere utile prima ordinare il vettore con l&#39;istruzione <code>sort(vettore)</code>.</p>
<h2 id="soluzione-">Soluzione:</h2>
<pre><code class="lang-matlab">function [res] = controlla_riga(riga)
% res = 0 -&gt; proprieta&#39; NON soddisfatta
% res = 1 -&gt; proprieta&#39; soddisfatta
res = 0;


%controllo che la dimensione sia giusta
[r,c]=size(riga);
if (~(r == 1 &amp;&amp; c == 9))
    return;
end

ordinato = sort(riga);

if(all(ordinato == 1:9))
    res = 1;
else
    res = 0;
end
</code></pre>
<h1 id="esercizio-2">Esercizio 2</h1>
<p>Definire una funzione che verifica la correttezza di una soluzione del gioco del sudoku semplificato. Nel sudoku semplificato una soluzione è rappresentata da una matrice 9x9 in cui per ogni riga e colonna della matrice valgono le seguenti proprietà:</p>
<ul>
<li><p>Gli elementi sono numeri interi nell&#39;intervallo [1,9]. </p>
</li>
<li><p>Non ci sono ripetizioni</p>
</li>
</ul>
<p>NB: Per risolvere il problema utilizzate la funzione definita nell&#39;esercizio precedente.</p>
<h2 id="soluzione-">Soluzione:</h2>
<pre><code class="lang-matlab">function [res] = sudoku_semplificato(M)
% res = 0 -&gt; proprieta&#39; NON soddisfatta
% res = 1 -&gt; proprieta&#39; soddisfatta
res = 0;

%controllo la dimensione
[r,c] = size(M);
if(~(r==9 &amp;&amp; c == 9))
    return;
end


for i=1:9
    %controllo la riga (i)
    riga = controlla_riga(M(i,1:9));    
    %controllo la colonna (i)
    colonna = controlla_riga(M(1:9,i)&#39;);
    if (riga+colonna &lt; 2)
        return;
    end
end
res = 1;
</code></pre>
<h1 id="esercizio-3">Esercizio 3</h1>
<p>Definire una funzione che verifica la correttezza di una soluzione del gioco del sudoku classico. Una soluzione nel sudoku classico rispetta le proprieta&#39; elencate nell&#39;esercizio precedente piu&#39; la seguente proprietà:</p>
<ul>
<li>Dividendo la matrice soluzione 9x9 in 9 sottomatrici 3x3 (non sovrapposte), ciascuna di queste sottomatrici contiene numeri da 1 a 9 senza ripetizioni.</li>
</ul>
<h2 id="soluzione">Soluzione</h2>
<pre><code class="lang-matlab">function [res] = sudoku_classico(M)
% res = 0 -&gt; proprieta&#39; NON soddisfatta
% res = 1 -&gt; proprieta&#39; soddisfatta
res = 0;


%controllo la dimensione
[r,c] = size(M);
if(~(r==9 &amp;&amp; c == 9))
    return;
end


for i=1:9
    %controllo la riga (i)
    riga = controlla_riga(M(i,1:9));    
    %controllo la colonna (i)
    colonna = controlla_riga(M(1:9,i)&#39;);
    if (riga+colonna &lt; 2)
        return;
    end
end


for i = 0:2
    for j = 0:2
        S = M(3*i+1:3*i+3, 3*j+1:3*j+3);
        val = controlla_riga(S(:)&#39;);
        if (val == 0)
            return;
        end
    end
end
res = 1;
</code></pre>
<h1 id="esercizio-4">Esercizio 4</h1>
<p>Scrivere una funzione che prende in ingresso una matrice M quadrata e restituisce il determinante di M (naturalmente la funzione Matlab predefinita <code>det</code> puo essere utilizzata solo per controllare i risultati). La seguente formula indica come calcolare ricorsivamente il determinante di una matrice:</p>
<p>$$
\textrm{det}\, M = \sum_{j=1}^{n} (-1)^{i+j}\,m_{ij}\,\textrm{det}\, M_{ij}
$$</p>
<p>dove \(M_{ij}\) è la matrice M decurtata della i-esima riga e della j-esima colonna (per qualsiasi riga i). <a href="https://it.wikipedia.org/wiki/Teorema_di_Laplace#Esempio_di_calcolo">Per maggiori dettagli</a>.</p>
<h2 id="soluzione-">Soluzione:</h2>
<pre><code class="lang-matlab">function det = RecLaplaceDet(M)
if (size(M,1) ~= size(M,2))
    error(&#39;La matrice deve essere quadrata&#39;);
end
i = 1;
det = 0;
n = size(M,1);
if n == 1
    det = M(1,1);
else
    for j = 1:n
        c = [1:j-1,j+1:n];
        det = det + (-1)^(i+j) * M(i,j) * RecLaplaceDet(M(2:end,c));
    end
end
</code></pre>
<h1 id="esercizio-5">Esercizio 5</h1>
<p>Si vuole compilare la pagella dei propri film preferiti.</p>
<p>a) Scrivere uno script che chieda di inserire i film. Ogni film e&#39; caratterizzato da un anno, un titolo e un voto. Tali dati vanno inseriti in una struttura chiamata <code>pagella</code>.</p>
<p>b) Scrivere il codice che visualizzi il numero totale di film con voto superiore a 6.</p>
<p>c) Scrivere il codice che visualizzi i titoli e i voti dei film prodotti tra il 2000 e il 2005.</p>
<p>d) salvare <code>pagella</code> in <code>file.mat</code>, cancellarla dal workspace, ricaricarla e stampare il titolo del primo film inserito.</p>
<p>NB: per chi utilizzasse IDEONE, inserite i valori direttamente, ad esempio utilizzando un array di Anni, di Titoli e di Voti di film che verranno poi usati all’interno della struttura dati Film</p>
<h2 id="soluzione-">Soluzione:</h2>
<pre><code class="lang-matlab">% parte A
nome=input(&#39;Inserire nome film (&#39;&#39;q&#39;&#39; per uscire): &#39;);
ii=0;
%clear pagella;
while nome~=&#39;q&#39;
   ii=ii+1;
   pagella(ii).nome = nome;
   pagella(ii).anno = input(&#39;Inserire anno: &#39;);
   pagella(ii).voto = input(&#39;Inserire voto: &#39;);
   nome=input(&#39;Inserire nome film (&#39;&#39;q&#39;&#39; per uscire): &#39;);
end

% parte B
voto_positivo = [pagella.voto]&gt;6;
somma = sum(voto_positivo);

disp([&#39;i film con voto &gt;6 sono: &#39; num2str(somma)]);

% parte c
vettore_logico_film = ([pagella.anno]&gt;=2000) &amp; ([pagella.anno]&lt;=2005)
selezione_film = pagella(vettore_logico_film)
elem = length(selezione_film);
for i= 1:elem
   disp([selezione_film(i).nome &#39; &#39; num2str(selezione_film(i).voto)]);
end


% parte d
save es pagella
clear pagella
load es pagella
disp(pagella(1).nome)
</code></pre>
<h1 id="esercizio-6">Esercizio 6</h1>
<p>Creare una matrice di dimensione NxN che nel suo centro contiene un quadrato 2x2 composto da 1. Le cornici piu&#39; esterne sono composte da valori via via crescenti:</p>
<pre><code>6 6 6 6 6 6 6 6 6 6 6 6
6 5 5 5 5 5 5 5 5 5 5 6
6 5 4 4 4 4 4 4 4 4 5 6
6 5 4 3 3 3 3 3 3 4 5 6
6 5 4 3 2 2 2 2 3 4 5 6
6 5 4 3 2 1 1 2 3 4 5 6
6 5 4 3 2 1 1 2 3 4 5 6
6 5 4 3 2 2 2 2 3 4 5 6
6 5 4 3 3 3 3 3 3 4 5 6
6 5 4 4 4 4 4 4 4 4 5 6
6 5 5 5 5 5 5 5 5 5 5 6
6 6 6 6 6 6 6 6 6 6 6 6
</code></pre><h2 id="soluzione">Soluzione</h2>
<pre><code class="lang-matlab">function [M] = stampaCornice(n)
% caso base: matrice centrale di 11 ; 11 
    if(n == 1)
        M = ones(2,2);
    else
        %passo ricorsivo
        M = stampaCornice(n-1)
        % orlo la matrice con due righe, sopra e sotto
        r = ones(1, size(M, 2)) * n
        M = [r; M ; r]
        % completo la cornice n-esima orlando anche con le colonne, dx e sx
        c = ones(size(M, 1), 1) * n
        M = [c M c]
    end
end
</code></pre>
<h1 id="esercizio-7">Esercizio 7</h1>
<p>Dato un numero intero positivo inserito dall’utente, dire se tale numero è primo (stampa a video 1 se primo, 0 altrimenti).</p>
<h2 id="soluzione">Soluzione</h2>
<pre><code class="lang-matlab">% soluzione non ricorsiva
function [ris] = numPrimo(x)
    ris=1;
    for y=2:sqrt(x)
        ris = ris*(~(~rem(x,y)));
end


% soluzione ricorsiva
function [ris] = numPrimo(x,y)
    if y&gt;sqrt(x)
        ris = 1
    else
        ris = (~(~rem(x,y)))*numPrimo(x,y+1);
end
</code></pre>
<h1 id="esercizio-8">Esercizio 8</h1>
<p>Vi chiediamo di implementare in MATLAB un algoritmo di ordinamento per un vettore, l’algoritmo di Quicksort. L’algoritmo riceve in ingresso un vettore di interi e lo restituisce ordinato in maniera crescente (allo stesso modo della funzione sort() di MATLAB).</p>
<p>Quicksort è un algoritmo ricorsivo; dato un array <code>V</code>, di lunghezza <code>d</code> e indicando con <code>d/2</code> il risultato intero della divisione:</p>
<ol>
<li>Viene estratto l’elemento di mezzo dell’array (il Pivot, ovvero <code>V[d/2]</code>);</li>
<li>Si divide l’array in due sotto-array, <code>L</code> ed <code>R</code>. <code>L</code>(left) conterrà tutti gli elementi minori del Pivot <code>V[d/2]</code>,  <code>R</code>(right) conterrà tutti gli elementi maggiori del Pivot <code>V[d/2]</code>.</li>
<li>Si chiama la funzione <code>quicksort()</code> in maniera ricorsiva su <code>L</code> ed <code>R</code>, ottenendo i vettori <code>L</code> ed <code>R</code> ordinati.</li>
<li>Se l’array ricevuto da <code>quicksort</code> ha dimensione 1 (è un solo numero) la funzione restituisce quel numero.
Altrimenti la funzione restituisce la concatenazione di <code>L</code>, del Pivot, e di <code>R</code>.
Il risultato di questa operazione è l’array ordinato.</li>
</ol>
<p>Esempio (<a href="https://it.wikipedia.org/wiki/Quicksort">ulteriori esempi</a>):</p>
<pre><code>Passo 1:
V = [1,6,3,2,5]  d = 5;  d/2 = 3; 
pivot = V[d/2] = V[3] = 3;
L = [1,2]; pivot = 3; R = [6,5];
Passo 2 - array di sinistra:
V = [1,2]; d = 2; d/2 = 1; pivot = 1; R = []; L = [2];
restituisco al passo 1: L+pivot+R = [1,2]
Passo 2 - array di destra:
V = [6,5]; d = 2; d/2 = 1; pivot = 6; R = [5]; L = [];
restituisco al passo 1: L+pivot+R = [5,6]
Passo 1 - chiusura della ricorsione:
L = [1,2]; pivot = 3; R = [5,6] -&gt; restituisco V = [1,2,3,5,6]
</code></pre><p>Soluzione più compatta:</p>
<pre><code class="lang-matlab">function [ R ] = QuickSort( A )
pivot_index = length(A);
if pivot_index &lt;= 1 
    R = A;
else 
    pivot = A(pivot_index);
    L = A(A&gt;pivot);
    R = A(A&lt;pivot);
    if size(L) == [1 0]
        L = [];
    end 
    if size(R) == [1 0]
        R = [];
    end
    R = [QuickSort(R) pivot QuickSort(L)];
end
</code></pre>
<h2 id="appendice">Appendice</h2>
<p>Matrici per testare il sudoku:</p>
<pre><code class="lang-matlab">
a= [     6     7     3     5     1     4     9     8     2
            9     2     1     3     6     8     7     5     4
            5     8     4     7     9     2     1     3     6
            8     9     6     2     3     7     4     1     5
            2     1     5     9     4     6     3     7     8
            3     4     7     1     8     5     2     6     9
            4     5     2     8     7     1     6     9     3
            1     6     9     4     5     3     8     2     7
            7     3     8     6     2     9     5     4     1 ];


b = [     6     7     3     5     2     4     9     8     2
            9     2     1     3     6     8     7     5     4
            5     8     4     7     9     2     1     3     6
            8     9     6     2     3     7     4     1     5
            2     1     5     9     1     6     3     7     8
            3     4     7     1     8     5     2     6     9
            4     5     2     8     7     1     6     9     3
            1     6     9     4     5     3     8     1     7
            7     3     8     6     2     9     5     4     1 ];
</code></pre>
</div>
          <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
          <div id="disqus_thread" class="post_container__comments"> 
            <script>(function() {
  var disqus_shortname, dsq;

  disqus_shortname = 'vittoriozaccaria';

  dsq = document.createElement('script');

  dsq.type = 'text/javascript';

  dsq.async = true;

  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';

  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

}).call(this);

            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>