<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head lang="en">
    <title>Memoria virtuale (esercizi)</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
    <script type="text/javascript" src="/js/client.js"></script>
  </head>
  <body ng-app="application">
    <div class="site_wrapper">
      <div class="sidebar"> <img class="sidebar__picture">
        <div class="sidebar__name">Vittorio Zaccaria</div>
        <div class="sidebar__address">Politecnico di Milano</div>
        <ul class="sidebar__link_list">
          <li onclick="location.href=&apos;/&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-home"></i></span>
            <div class="sidebar__link_item__name">Home</div>
          </li>
          <li onclick="location.href=&apos;/research.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-flask"></i></span>
            <div class="sidebar__link_item__name">Research</div>
          </li>
          <li onclick="location.href=&apos;/blog.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-quote-left"></i></span>
            <div class="sidebar__link_item__name">Blog</div>
          </li>
          <li onclick="location.href=&apos;/projects.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-floppy-o"></i></span>
            <div class="sidebar__link_item__name">Projects</div>
          </li>
          <li onclick="location.href=&apos;/teaching.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-graduation-cap"></i></span>
            <div class="sidebar__link_item__name">Teaching</div>
          </li>
          <li onclick="location.href=&apos;/deposit/cv.pdf&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-user"></i></span>
            <div class="sidebar__link_item__name">CV</div>
          </li>
          <li onclick="location.href=&apos;/videos.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-youtube-play"></i></span>
            <div class="sidebar__link_item__name">Videos</div>
          </li>
          <li onclick="location.href=&apos;/address.html&apos;" style="cursor: pointer" class="sidebar__link_item"><span class="sidebar__link_item__icon fa-stack"><i class="fa fa-stack-2x fa-circle"></i><i class="sidebar__link_item__icon__inner fa fa-stack-1x fa-inverse fa-map-marker"></i></span>
            <div class="sidebar__link_item__name">Address</div>
          </li>
        </ul>
        <div class="sidebar__bottom"> 
          <div onclick="location.href=&apos;http://www.linkedin.com/in/vzaccaria&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-linkedin-square"></i></div>
          <div onclick="location.href=&apos;http://twitter.com/_vzaccaria_&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-twitter-square"></i></div>
          <div onclick="location.href=&apos;https://plus.google.com/116322227495215922957/about&apos;" style="cursor: pointer" class="sidebar__bottom__button"><i class="fa fa-google-plus-square"></i></div>
        </div>
      </div>
      <div class="site_container">
        <div class="post_container">
          <div class="post_container__post__title">Memoria virtuale (esercizi)</div>
          <div class="post_container__post__subtitle"> 
            <div class="post_container__post__date"> <i class="fa fa-calendar-o"> </i>
              <div class="post_container__post__date_value">Friday, January 9th 2015</div>
            </div>
            <div class="post_container__post__category"> <i class="fa fa-flag-o"> </i>
              <div class="post_container__post__category_value">infob</div>
            </div>
            <div class="post_container__post__tags"> <i class="fa fa-tags"></i>
              <div class="post_container__post__tag">lezione</div>
            </div>
            <div class="share_buttons"> 
              <div class="share_buttons__message">Share: </div>
              <div style="cursor: pointer" class="share_buttons__share_reddit"><i class="fa fa-reddit"> </i></div>
              <div style="cursor: pointer" class="share_buttons__share_twitter"><i class="fa fa-twitter"></i></div>
            </div>
          </div>
          <div class="post_text"><p><a href="https://dl.dropboxusercontent.com/u/5867765/slides-informatica-b/s-memoria_virtuale-4.pdf">A questo link le slides di approfondimento sulla memoria virtuale.</a></p>
<h1 id="esercizio-1">Esercizio 1</h1>
<p>Un sistema dispone di 256 Kbyte di memoria virtuale indirizzabile, con paginazione caratterizzata dai seguenti parametri: </p>
<ul>
<li>indirizzo fisico di 16 bit e </li>
<li>pagine di dimensione di 2 Kbyte. </li>
</ul>
<p>Rispondere alle seguenti domande giustificando le risposte:</p>
<p>a. Quale è la dimensione della memoria fisica indirizzabile?</p>
<blockquote>
<p>La memoria fisica indirizzabile è pari a 64 Kbyte (2^16 byte)</p>
</blockquote>
<p>b. Quale è la struttura dell’indirizzo virtuale e di quello fisico, e la lunghezza dei campi che li costituiscono?</p>
<blockquote>
<ul>
<li><p>Indirizzo Virtuale:  18 bit     NPV: 7  bit offset: 11  bit</p>
</li>
<li><p>Indirizzo Fisico:    16 bit     NPF: 5  bit offset: 11  bit</p>
</li>
</ul>
</blockquote>
<h1 id="esercizio-2">Esercizio 2</h1>
<p>Un sistema dispone di 64 Kbyte di memoria fisica indirizzabile e di 128 Kbyte di memoria virtuale indirizzabile; inoltre la memoria virtuale è organizzata in pagine di 512 byte. </p>
<p>Rispondere alle seguenti domande (giustificando i risultati ottenuti con gli opportuni calcoli):</p>
<ol>
<li>Definire la struttura dell’indirizzo virtuale e di quello fisico indicando la lunghezza dei campi che li costituiscono.</li>
</ol>
<blockquote>
<ul>
<li>512 byte  = 2^9 byte =&gt; offset di 9 bit </li>
<li>64 Kbyte  = 2^16 byte =&gt; indirizzo fisico di 16 bit</li>
<li>128 Kbyte = 2^17 byte =&gt; indirizzo virtuale di 17 bit</li>
<li>Indirizzo virtuale di 17 bit, NPV 8 bit, offset 9 bit</li>
<li>Indirizzo fisico di 16 bit, NPF 7 bit, offset 9 bit</li>
</ul>
</blockquote>
<ol>
<li>Quante sono le pagine di memoria virtuale?</li>
</ol>
<blockquote>
<p>Il sistema ha a disposizione 2^8  = 256 pagine di memoria virtuale.</p>
</blockquote>
<h2 id="parte-b">Parte B</h2>
<p>Si consideri un sistema con le seguenti caratteristiche: </p>
<ul>
<li>Indirizzo virtuale di 8 bit</li>
<li>Indirizzo fisico di 7 bit</li>
<li>Dimensione pagine 16 byte</li>
</ul>
<p>L’indirizzo virtuale 00101000 può corrispondere all’indirizzo fisico 0010100? Giustificare la risposta.</p>
<blockquote>
<p>L’offset è di 4 bit (16 byte = 2^4), perciò la traduzione non è possibile dal momento che i 4 bit meno significativi non corrispondono.</p>
</blockquote>
<h1 id="esercizio-3">Esercizio 3</h1>
<p>Si assuma di voler convertire in maniera automatica degli indirizzi fisici in indirizzi virtuali. Assumiamo di avere la tabella di conversione memorizzata in un&#39;array bi-dimensionale C:</p>
<pre><code>int tabella[4][2] = { 
    { 0, 4 },
    { 1, 2 },
    { 2, 1 },
    { 3, 0 }
};
</code></pre><p>dove, per ciascuna riga della tabella, viene specificato l&#39;<code>npf</code> e l&#39;<code>npv</code> corrispondente. Ad esempio, la prima riga dice che il numero di pagina fisica (npf) 0 deve essere tradotto in un numero di pagina virtuale (npv) pari a 4.</p>
<h2 id="domanda-1">Domanda 1</h2>
<p>Sapendo che l&#39;offset ha dimensione 8 bit, si completi il seguente programma in modo che calcoli e stampi l&#39;offset ed il numero di pagina fisica <code>npf</code>
di un indirizzo fisico già inserito dall&#39;utente:</p>
<pre><code class="lang-c">    ...
    int npf; 
    int npv;
    int offset;

    offset = indirizzo_fisico % 256;
    npf    = (indirizzo_fisico - offset)/256;

    printf(&quot;Offset:      %x\n&quot;, offset);
    printf(&quot;npf:         %x\n&quot;, npf);
</code></pre>
<h2 id="domanda-2">Domanda 2</h2>
<p>Sapendo che <code>tabella</code> contiene la conversione di numero di pagina fisica in numero di pagina virtuale, calcolare e stampare a video il numero di pagina virtuale <code>npv</code> e l&#39;indirizzo virtuale corrispondente a <code>indirizzo_fisico</code>:</p>
<pre><code class="lang-c">    for (int i = 0; i &lt; 4; ++i) {
        if(tabella[i][0] == npf) {

            int npv;
            int indirizzo_virtuale;

            npv = tabella[i][1];
            indirizzo_virtuale = (tabella[i][1] * 256) + offset;

            printf(&quot;npv: %d\n&quot;, npv);
            printf(&quot;indirizzo_virtuale: %d\n&quot;, indirizzo_virtuale);
            break;
        }
    }
    return 0;
}
</code></pre>
</div>
          <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG"></script>
          <div id="disqus_thread" class="post_container__comments"> 
            <script>(function() {
  var disqus_shortname, dsq;

  disqus_shortname = 'vittoriozaccaria';

  dsq = document.createElement('script');

  dsq.type = 'text/javascript';

  dsq.async = true;

  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';

  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

}).call(this);

            </script><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>